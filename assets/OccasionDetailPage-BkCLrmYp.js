import{u as p,r as t,a as v,j as e,L as r}from"./index-BX1Ylhwe.js";const w=()=>{const{occasionName:c}=p(),[o,d]=t.useState([]),[n,l]=t.useState(null),[m,h]=t.useState(!0),{addToWishlist:u,removeFromWishlist:f,wishlistItems:i}=v(),x=async()=>{try{const s=await fetch(`https://backend-testofindia.onrender.com/api/recipe?occasion=${c}`),a=await s.json();s.ok?d(a.data):l(a.message)}catch(s){console.error(s),l("An error occurred while fetching recipes")}finally{h(!1)}};t.useEffect(()=>{x()},[c]);const N=s=>{i&&i.some(j=>j.id===s._id)?f(s._id):u({id:s._id,name:s.RecipeName,image:s.Images})},g=s=>Array.isArray(i)&&i.some(a=>a.id===s);return m?e.jsx("div",{className:"loading",children:"Loading..."}):e.jsxs("div",{className:"occasion-detail-container",children:[e.jsxs("h1",{className:"occasion-detail-title",children:["Recipes for ",c]}),n&&e.jsx("p",{className:"error-message",children:n}),e.jsx("div",{className:"occasion-detail-list",children:o.length>0?o.map(s=>e.jsxs("div",{className:"occasion-detail-card",children:[e.jsx(r,{to:`/recipe/${s._id}`,className:"occasion-detail-link",children:e.jsxs("div",{className:"occasion-detail-card-content",children:[e.jsx("img",{src:s.Images,alt:s.RecipeName,className:"occasion-detail-image"}),e.jsx("h2",{className:"occasion-detail-title-text",children:s.RecipeName})]})}),e.jsx("button",{className:"wishlist-button2",onClick:a=>{a.preventDefault(),N(s)},children:e.jsx("i",{className:`fas fa-heart ${g(s._id)?"red":""}`})}),e.jsx(r,{to:`/recipe/${s._id}`,className:"Occasion-view-recipe-button",children:"View Recipe"})]},s._id)):e.jsx("p",{className:"no-recipes-message",children:"No recipes found for this occasion."})})]})};export{w as default};
