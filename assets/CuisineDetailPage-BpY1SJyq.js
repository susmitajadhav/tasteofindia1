import{u as j,r as a,a as v,j as s,L as R,b as C}from"./index-BX1Ylhwe.js";const W=()=>{const{cuisine:t}=j(),[n,c]=a.useState([]),[o,r]=a.useState(!0),[l,m]=a.useState(null),{wishlistItems:d,addToWishlist:u,removeFromWishlist:h}=v(),p=e=>e.trim().toLowerCase().replace(/\s+/g,""),g=async()=>{try{const e=p(t),i=await C.get(`https://backend-testofindia.onrender.com/api/recipe?cuisine=${e}`);i.data&&i.data.data?c(i.data.data):c([]),r(!1)}catch{m("Failed to load recipes. Please try again later."),r(!1)}};a.useEffect(()=>{g()},[t]);const x=e=>{d.some(f=>f.id===e._id)?h(e._id):u({id:e._id,name:e.RecipeName,image:e.Images})},N=e=>d.some(i=>i.id===e);return o?s.jsx("div",{className:"cuisine-loading",children:"Loading..."}):l?s.jsx("div",{className:"cuisine-error",children:l}):n.length===0?s.jsx("div",{className:"cuisine-no-data",children:"No recipes found for this cuisine."}):s.jsxs("div",{className:"cuisine-detail-page",children:[s.jsx("h2",{className:"cuisine-title",children:t.replace(/-/g," ").toUpperCase()}),s.jsx("div",{className:"cuisine-details",children:n.map(e=>s.jsx("div",{className:"cuisine-recipe-card",children:s.jsx(R,{to:`/recipe/${e._id}`,className:"cuisine-recipe-link",children:s.jsxs("div",{className:"cuisine-recipe-content",children:[s.jsx("img",{src:e.Images?e.Images:"/images/default-recipe.jpg",alt:e.RecipeName,className:"cuisine-recipe-image"}),s.jsx("h5",{className:"cuisine-recipe-title",children:e.RecipeName}),s.jsx("div",{className:"view-recipe-button",children:"View Recipe"}),s.jsx("div",{className:`wishlist-heart-icon1 ${N(e._id)?"red":""}`,onClick:i=>{i.stopPropagation(),x(e)},children:"â™¥"})]})})},e._id||e.RecipeName))})]})};export{W as default};
