import{u as p,r,a as w,j as e,L as o}from"./index-BX1Ylhwe.js";const R=()=>{const{tasteName:i}=p(),[l,d]=r.useState([]),[n,c]=r.useState(null),[m,h]=r.useState(!0),{addToWishlist:u,removeFromWishlist:f,wishlistItems:t}=w(),g=async()=>{try{const s=await fetch(`https://backend-testofindia.onrender.com/api/recipe?taste=${i}`),a=await s.json();s.ok?d(a.data):c(a.message)}catch(s){console.error(s),c("An error occurred while fetching recipes")}finally{h(!1)}};r.useEffect(()=>{g()},[i]);const N=s=>{t&&t.some(j=>j.id===s._id)?f(s._id):u({id:s._id,name:s.RecipeName,image:s.Images})},x=s=>t&&Array.isArray(t)&&t.some(a=>a.id===s);return m?e.jsx("div",{className:"loading",children:"Loading..."}):e.jsxs("div",{className:"taste-details-container",children:[e.jsx("h2",{className:"taste-details-heading",children:i.charAt(0).toUpperCase()+i.slice(1)}),n&&e.jsx("p",{className:"error-message",children:n}),e.jsx("div",{className:"taste-details-row",children:l.length>0?l.map(s=>e.jsxs("div",{className:"taste-details-card",children:[e.jsxs(o,{to:`/recipe/${s._id}`,className:"taste-details-link",children:[e.jsx("img",{src:s.Images,alt:s.RecipeName,className:"taste-details-card-img"}),e.jsx("h5",{className:"taste-details-card-title",children:s.RecipeName})]}),e.jsx(o,{to:`/recipe/${s._id}`,className:"taste-view-recipe-button",children:"View Recipe"}),e.jsx("button",{className:"wishlist-button",onClick:a=>{a.preventDefault(),N(s)},children:e.jsx("i",{className:`fas fa-heart ${x(s._id)?"red":""}`})})]},s._id)):e.jsx("p",{className:"no-recipes-message",children:"No recipes found for this taste."})})]})};export{R as default};
