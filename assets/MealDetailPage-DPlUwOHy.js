import{u as v,r as t,a as w,j as a,L as h}from"./index-BX1Ylhwe.js";const E=()=>{const{mealType:i}=v(),[c,p]=t.useState([]),[u,o]=t.useState(!0),[n,g]=t.useState(null),{addToWishlist:f,removeFromWishlist:x,wishlistItems:N}=w();if(t.useEffect(()=>{(async()=>{try{o(!0);const s=i.toLowerCase(),r=await fetch(`https://backend-testofindia.onrender.com/api/recipe?course=${s}`);if(!r.ok){const m=await r.text();throw console.error("Error fetching meal data:",m),new Error(`HTTP error! Status: ${r.status}, Message: ${m}`)}const d=await r.json();p(d.data||d)}catch(s){console.error("Caught error:",s),g(s.message)}finally{o(!1)}})()},[i]),u)return a.jsx("div",{className:"meal-loading",children:"Loading..."});if(n)return a.jsxs("div",{className:"meal-error",children:["Error: ",n]});const l=e=>N.some(s=>s.id===e),j=e=>{l(e._id)?x(e._id):f({id:e._id,name:e.RecipeName,image:e.Images})};return a.jsxs("div",{className:"meal-detail-page",children:[a.jsx("h2",{className:"meal-title",children:i.charAt(0).toUpperCase()+i.slice(1)})," ",a.jsx("div",{className:"meal-details",children:c.length===0?a.jsxs("div",{className:"meal-no-data",children:["No recipes found for ",i]}):c.map(e=>a.jsxs("div",{className:"meal-recipe-card",children:[" ",a.jsxs(h,{to:`/recipe/${e._id}`,className:"meal-recipe-link",children:[" ",a.jsx("img",{src:e.Images||"default-placeholder-image.jpg",alt:e.RecipeName||"Recipe",className:"meal-recipe-image"}),a.jsx("h5",{className:"meal-recipe-title",children:e.RecipeName||"Unnamed Recipe"})," "]}),a.jsx("div",{className:`wishlist-icon ${l(e._id)?"active":""}`,onClick:()=>j(e),children:a.jsx("i",{className:`bi ${l(e._id)?"bi-heart-fill":"bi-heart"}`})}),a.jsx(h,{to:`/recipe/${e._id}`,className:"view-recipe-button",children:"View Recipe"})]},e._id))})]})};export{E as default};
