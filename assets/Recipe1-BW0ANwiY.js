import{u as v,c as N,r as t,j as e,F as b,f as R,h as w}from"./index-BX1Ylhwe.js";/* empty css               */const y=()=>{const{id:n}=v(),p=N(),[i,h]=t.useState(null),[m,u]=t.useState(!0),[o,l]=t.useState(null);t.useEffect(()=>{(async()=>{try{const a=await fetch(`https://backend-testofindia.onrender.com/api/recipe/${n}`),r=await a.json();a.ok?h(r.data):l(r.message)}catch{l("An error occurred while fetching recipe details.")}finally{u(!1)}})()},[n]);const j=async s=>{try{const a=await fetch(`https://backend-testofindia.onrender.com/api/recipe?name=${encodeURIComponent(s)}`),r=await a.json();if(a.ok&&r.data&&r.data.length>0){const c=r.data.find(k=>k.RecipeName===s);c?p(`/recipe/${c._id}`):alert("Recipe not found. Please check the name or try again later!")}else alert("No recipes found. Please ensure the recipe exists in the backend!")}catch(a){console.error("Error fetching recipe by name:",a),alert("Error retrieving the recipe. Please try again later.")}},x=()=>{window.print()},g=()=>{const s=JSON.stringify(i),a=new Blob([s],{type:"application/json"}),r=URL.createObjectURL(a),c=document.createElement("a");c.href=r,c.download=`${i.RecipeName}.json`,c.click(),URL.revokeObjectURL(r)},f=async()=>{const s={title:i.RecipeName,text:`Check out this recipe: ${i.RecipeName}`,url:window.location.href};try{navigator.share?await navigator.share(s):(navigator.clipboard.writeText(window.location.href),alert("Recipe link copied to clipboard!"))}catch(a){console.error("Error sharing recipe:",a)}};if(m)return e.jsx("div",{className:"loading",children:"Loading..."});if(o)return e.jsx("div",{className:"error",children:o});const d=i.RecipeLinks?i.RecipeLinks.split(",").map(s=>s.trim()).filter(s=>s):[];return e.jsxs("div",{className:"recipe-detail-container",children:[e.jsxs("div",{className:"recipe-header",children:[e.jsx("h1",{className:"recipe-title",children:i.RecipeName}),e.jsxs("div",{className:"recipe-buttons",children:[e.jsxs("button",{className:"btn",onClick:x,children:[e.jsx(b,{})," Print"]}),e.jsxs("button",{className:"btn",onClick:g,children:[e.jsx(R,{})," Save"]}),e.jsxs("button",{className:"btn",onClick:f,children:[e.jsx(w,{})," Share"]})]})]}),e.jsxs("div",{className:"recipe-detail-grid",children:[e.jsxs("div",{className:"recipe-detail-image",children:[e.jsx("div",{className:"image-container",children:e.jsx("img",{src:i.Images||"default_image_url.jpg",alt:i.RecipeName})}),i.ImagesSource&&e.jsxs("div",{className:"image-source",children:[e.jsx("strong",{children:"Credit:"})," ",e.jsx("a",{href:i.ImagesSource,target:"_blank",rel:"noopener noreferrer",children:i.ImagesSource})]})]}),e.jsx("div",{className:"recipe-detail-content",children:e.jsxs("div",{className:"essential-details",children:[e.jsx("div",{className:"essential-details-column",children:Object.entries({Serves:i.Serves,Course:Array.isArray(i.Course)?i.Course.join(", "):i.Course,Meals:i.Meals,"Total Cook Time":i["Total Cook Time"],"Prep Time":i["Prep Time"],"Cook Time":i["Cook Time"]}).map(([s,a])=>a&&e.jsxs("p",{children:[e.jsxs("strong",{children:[s,":"]})," ",a]},s))}),e.jsx("div",{className:"essential-details-column",children:Object.entries({Difficulties:i.Difficulties,Cuisine:i.Cuisine,Occasion:i.Occasion,"Cooking Type":i["Cooking Type"],Drinks:i.Drinks,"Sugar/SugarFree":i["Sugar/SugarFree"]}).map(([s,a])=>a&&e.jsxs("p",{children:[e.jsxs("strong",{children:[s,":"]})," ",a]},s))})]})})]}),e.jsxs("div",{className:"recipe-links-section",children:[e.jsx("h2",{children:"Recipe Links:"}),d.length>0?e.jsx("ul",{children:d.map((s,a)=>e.jsx("li",{children:e.jsx("button",{className:"recipe-link-button",onClick:()=>j(s),children:s})},a))}):e.jsx("p",{children:"No linked recipes available."})]}),i.VideoLink&&e.jsxs("div",{className:"recipe-video",children:[e.jsx("h2",{children:"Video Tutorial"}),e.jsx("iframe",{width:"100%",height:"315",src:i.VideoLink.replace("watch?v=","embed/"),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]})]})};export{y as default};
